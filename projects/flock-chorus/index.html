<!DOCTYPE html>
<html lang="en">

<head>
  <title>Flock chorus</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/lil-gui@0.19"></script>
  <script src="https://unpkg.com/tone"></script>
  <script>
    const GUI = lil.GUI;
  </script>
  <link rel="stylesheet" type="text/css" href="../../assets/css/main.css" />
  <style>
    #project-header {
      margin: 1rem;
    }

    html,
    body {
      margin: 0;
      height: 100%;
      overflow: hidden
    }

    #gui_container{
      position: fixed;
      top: 0;
      right: 0;
    }

  </style>
  <script>
    function playNote() {
      // create a synth
      let osc = new Tone.Oscillator({
        frequency: 440,
        type: "sawtooth4",
        volume: -40,
        detune: Math.random() * 30 - 15,
      }).toDestination();

      let panner = new Tone.Panner(-.5).toDestination();
      osc.connect(panner).start();
    }
  </script>
</head>

<body>
  <div id="project-header">
    <div id="gui-container"></div>
    <nav class="projects-navbar" role="navigation">
      <a href="../.." class="nav-link">@hannahilea</a> >
      <a href="../../projects" class="nav-link">projects</a> > Flock chorus
    </nav>
    <details class="projects-details">
      <summary><strong>Details</strong></summary>
      <p>Built for a web-based musical instrument hackathon while at the <a class="impersonal" href="https://www.recurse.com">Recurse
          Center</a>. Built on top of the <a class="impersonal" href="https://p5js.org/examples/simulate-flocking.html">p5 flocking
          demo</a>.
      </p>
      <p><i>Usage:</i> Click screen to spawn <a class="impersonal" href="https://en.wikipedia.org/wiki/Boids">boids</a>. Make sure your computer sound
        is on. (May not yet work on mobile.)</p>
      <p><i>Warning:</i> If you add a gagillion boids, the page may get laggy or stop playing altogether. I'm pretty
        sure this is a Tone.js limitation (well, a "my current usage of Tone.js" limitation, specifically!), and if you
        have an idea of how to work around it, please let me know! In the meantime, simply refresh your screen to start
        fresh (or un-toggle "wrap world" to let some of your flocks fly away).</p>
      <button onclick="playNote()">Test sound! (refresh page to stop...)</button>
    </details>
  </div>
  <script src="./sketch.js"></script>

</body>

</html>
